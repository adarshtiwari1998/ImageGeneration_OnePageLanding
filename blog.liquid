{% include 'breadcrumb' %}
{% paginate blog.articles by 5 %}
    <header class="section-header" style="display: flex; justify-content: space-between; align-items: center;">
        <h1 class="section-header__title">{{ blog.title }}</h1>
        {% if blog.handle == 'foxx-in-news' %}
          <a href="/blogs/foxx-blog" class="animated-button">Foxx Blogs</a>
        {% elsif blog.handle == 'foxx-blog' %}
          <a href="/blogs/foxx-in-news" class="animated-button">Foxx In News</a>
        {% else %}
          <a href="/blogs/foxx-in-news" class="animated-button">Foxx In News</a>
        {% endif %}
      </header>

      <style>
        .animated-button {
          position: relative;
          text-decoration: none;
          padding-bottom: 5px;
          overflow: hidden;
        }

        .animated-button::after {
          content: "";
          position: absolute;
          left: -100%;
          bottom: 0;
          width: 100%;
          height: 3px;
          background-color: #007bff;
          animation: slideUnderline 2s infinite linear;
        }

        @keyframes slideUnderline {
          0% { left: -100%; }
          100% { left: 100%; }
        }
      </style>

{% render 'breast-cancer-promotional-css' %}

<div class="promotional-banner">
     <a href="/pages/us-independence-day-sale-25">
      <img src="#"
            alt="Our Biggest Patriotic Sale of the Year"
              title="Our Biggest Patriotic Sale of the Year"
            class="banner-img">
    </a>
    {% comment %} <a href="/pages/foxx-open-house-registration-2025">
    <img src="https://cdn.shopify.com/s/files/1/1064/0118/files/Website_Banner_2708x417-foxx-open-house.jpg?v=1739196928"
          alt="Foxx Loves India Open House | 14th February 2025, 10:30AM ðŸ“ 619 Pudur, Medchal, Hyderabad, Telangana-501401, India"
            title="Foxx Loves India Open House | 14th February 2025, 10:30AM ðŸ“ 619 Pudur, Medchal, Hyderabad, Telangana-501401, India"
          class="banner-img">
  </a> {% endcomment %}
</div>
{% comment %} {% render 'christmas-promo-offer' %} {% endcomment %}
{% comment %} <div class="container link-bar">
  <div class="link-bar__wrapper">
  <div class="link-bar__scroller hide-scrollbar">
    <ul class="link-bar__linklist list--unstyled" role="list">  
      {% for tag in blog.tags %}
      <li class="link-bar__link-item">
        <a href="/blogs/blog/tagged/{{ tag | handle }}" class="link-bar__link link--animated text--underlined" data-tag="{{ tag | handle }}">{{ tag }}</a>
      </li>
    {% endfor %}
    </ul>
  </div>

</div>
</div> {% endcomment %}


<div class="posts-container">
    {% for article in blog.articles %}
      <div class="article" data-tags="{% for tag in article.tags %}{{ tag | handle }}{% unless forloop.last %}, {% endunless %}{% endfor %}">
            <h2><a href="{{ article.url }}">{{ article.title }}</a></h2>
            <p class="blog-date">
                <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">{{ article.published_at | date: format: 'month_day_year' }}</time>
                {% if settings.blog_author_enable %}
                    <span class="meta-sep">&#8226;</span>
                    {{ article.author }}
                {% endif %}
                {% comment %} {% if article.tags.size > 0 %}
                    <span class="meta-sep">&#8226;</span>
                    {% for tag in article.tags %}
                        <a href="{{ blog.url }}/tagged/{{ tag | handle }}">{{ tag }}</a>{% unless forloop.last %} <span class="meta-sep">&#8226;</span> {% endunless %}
                    {% endfor %}
                {% endif %} {% endcomment %}
            </p>
            <div class="rte">
                {% if article.image %}
                    {% assign image_alt = article.title | escape %}
                    <p>{{ article | img_url: '512x512' | img_tag: image_alt, 'article__image' | link_to: article.url }}</p>
                {% endif %}
                {% if article.excerpt.size > 0 %}
                    {{ article.excerpt }}
                {% else %}
                    <p>{{ article.content | strip_html | truncatewords: 100 }}</p>
                {% endif %}
            </div>
            <p><a href="{{ article.url }}">{{ 'blogs.article.read_more' | t }} &rarr;</a></p>
        </div>
      {% unless forloop.last %}<hr>{% endunless %}

    {% endfor %}
</div>

{% if paginate.pages > 1 %}
  <div class="text-center">
    {% include 'pagination-custom' %}
  </div>
{% endif %}

{% endpaginate %}

<!-- Recommendations Section -->
{% comment %} Show recommendations from the other blog category {% endcomment %}
{% if blog.handle == 'foxx-in-news' %}
  {% assign other_blog = blogs['foxx-blog'] %}
  {% assign other_blog_title = 'Foxx Blogs' %}
{% elsif blog.handle == 'foxx-blog' %}
  {% assign other_blog = blogs['foxx-in-news'] %}
  {% assign other_blog_title = 'Foxx In News' %}
{% endif %}

{% if other_blog and other_blog.articles.size > 0 %}
<div class="recommendations-section" style="margin-top: 60px; padding-top: 40px; border-top: 2px solid #ecf0f4;">
  <div class="container">
    <h2 class="recommendations-title" style="font-size: 2rem; margin-bottom: 30px; color: #1a2024; text-align: center;">
      Recommended from {{ other_blog_title }}
    </h2>
    
    <div class="recommendations-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
      {% for article in other_blog.articles limit: 3 %}
        <div class="recommendation-card" style="background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); overflow: hidden; transition: all 0.3s ease; border: 1px solid rgba(0,0,0,0.05);">
          {% if article.image %}
            <div class="recommendation-image" style="height: 200px; overflow: hidden; position: relative;">
              <img src="{{ article | img_url: '400x400' }}" alt="{{ article.title | escape }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
            </div>
          {% endif %}
          
          <div class="recommendation-content" style="padding: 22px;">
            <h3 style="font-size: 1.15rem; margin-bottom: 12px; line-height: 1.45; font-weight: 600;">
              <a href="{{ article.url }}" style="color: #1a2024; text-decoration: none; transition: color 0.2s ease;">{{ article.title }}</a>
            </h3>
            
            <p class="recommendation-date" style="font-size: 0.85rem; color: #7a7a7a; margin-bottom: 16px; font-weight: 500;">
              <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">{{ article.published_at | date: format: 'month_day_year' }}</time>
              {% if settings.blog_author_enable and article.author %}
                <span style="margin: 0 6px; color: #bbb;">â€¢</span>
                {{ article.author }}
              {% endif %}
            </p>
            
            <div class="recommendation-excerpt" style="font-size: 0.94rem; line-height: 1.65; color: #4a5568; margin-bottom: 18px;">
              {% if article.excerpt.size > 0 %}
                {{ article.excerpt | strip_html | truncatewords: 18 }}
              {% else %}
                {{ article.content | strip_html | truncatewords: 18 }}
              {% endif %}
            </div>
            
            <a href="{{ article.url }}" class="recommendation-link" style="color: #2563eb; text-decoration: none; font-weight: 500; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 4px; transition: all 0.2s ease;">
              Read More <span style="transition: transform 0.2s ease;">â†’</span>
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
    
    <div style="text-align: center; margin-top: 30px;">
      <a href="{{ other_blog.url }}" class="view-all-link" style="display: inline-block; padding: 12px 24px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; font-weight: 500; transition: background-color 0.3s ease;">
        View All {{ other_blog_title }}
      </a>
    </div>
  </div>
</div>

<style>
.recommendation-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.12) !important;
}

.recommendation-card:hover img {
  transform: scale(1.02);
}

.recommendation-card:hover .recommendation-link span {
  transform: translateX(3px);
}

.view-all-link:hover {
  background: #0056b3 !important;
  transform: translateY(-1px);
}

.recommendation-card h3 a:hover {
  color: #2563eb;
}

.recommendation-link:hover {
  color: #1d4ed8 !important;
}

@media (max-width: 768px) {
  .recommendations-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
  }
  
  .recommendations-title {
    font-size: 1.5rem !important;
  }
  
  .recommendation-content {
    padding: 18px !important;
  }
}
</style>
{% endif %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const tabsContainer = document.querySelector('.link-bar__linklist');

    // Create "All Posts" link and insert it at the beginning
    const allPostsItem = document.createElement('li');
    allPostsItem.classList.add('link-bar__link-item', 'link-bar__link-item--selected');

    const allPostsLink = document.createElement('a');
    allPostsLink.href = "/blogs/foxx-blog";
    allPostsLink.classList.add('link-bar__link', 'link--animated', 'text--underlined');
    allPostsLink.setAttribute('data-tag', 'all');
    allPostsLink.textContent = 'All Posts';

    allPostsItem.appendChild(allPostsLink);
    tabsContainer.prepend(allPostsItem); // Insert at the beginning of the list

    const tabs = document.querySelectorAll('.link-bar__link');
    const articles = document.querySelectorAll('.article');

    // Function to show/hide articles based on selected tag
    function filterArticles(selectedTag) {
        articles.forEach(article => {
            const articleTags = article.getAttribute('data-tags').split(',');
            if (selectedTag === 'all' || articleTags.includes(selectedTag.trim())) {
                article.style.display = 'block'; // Show article
            } else {
                article.style.display = 'none'; // Hide article
            }
        });
    }

    // Show all articles when the page loads
    filterArticles('all');

    tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
            const selectedTag = this.getAttribute('data-tag');

            if (selectedTag !== 'all') {
                e.preventDefault(); // Prevent default anchor behavior
            }

            // Remove 'link-bar__link-item--selected' class from all li elements
            const allListItems = document.querySelectorAll('.link-bar__link-item');
            allListItems.forEach(item => item.classList.remove('link-bar__link-item--selected'));

            // Make the clicked tab active
            this.parentElement.classList.add('link-bar__link-item--selected'); // Add class to the parent li

            // Make the clicked link text bold
            tabs.forEach(t => t.style.fontWeight = 'normal'); // Reset bold
            this.style.fontWeight = 'bold'; // Make clicked link bold

            // Filter articles based on selected tag
            filterArticles(selectedTag);
        });
    });
});
</script>





<style>
.link-bar .link-bar__wrapper {
    margin: 0px 0px 30px 0px !important;
}
.link-bar__wrapper {
    position: relative;
    display: inline-flex;
    align-items: center;
    max-width: 100%;
}

.link-bar__scroller {
    scroll-snap-type: x proximity;
}
.hide-scrollbar {
    scrollbar-width: none;
    overflow-x: auto;
    overflow-y: hidden;
}
.link-bar .link-bar__wrapper ul {
    gap: 10px;
}


 .link-bar ul:last-child {
    margin-bottom: 0 !important;
}

.link-bar ul:first-child {
    margin-top: 0 !important;
}

.link-bar__linklist {
    display: flex;
    align-items: center;
    grid-gap: 28px;
    gap: 28px;
    min-width: max-content;
}

.list--unstyled {
    list-style: none;
    padding: 0;
    margin: 0;
}

.link-bar li {
    background: #d8d9db;
}

.link-bar li.link-bar__link-item--selected {
    background: #ecf0f4;
}

.link-bar li {
    padding: 9px 21px !important;
    border-radius: 17px;
    line-height: unset;
}


@media screen and (min-width: 741px) {
    .link-bar__link-item, .link-bar__title {
        padding-top: 20px;
        padding-bottom: 20px;
    }
}

@media screen and (min-width: 1200px) {
    .link-bar__link-item, .link-bar__title {
        padding-top: 27px;
        padding-bottom: 27px;
    }
}

.link-bar li.capitalized_text a {
    text-transform: capitalize;
}

.link-bar li a {
    font-size: 16px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 14px;
    letter-spacing: normal;
    text-align: left;
    color: #1a2024;
}

.link--animated {
    display: block;
    position: relative;
    width: max-content;
}

.link--animated::after {
    content: "";
    position: absolute;
    bottom: -1px;
    left: 50%;
    width: 27px;
    height: 1.5px;
    background: currentColor;
    transform: scaleX(0);
    transform-origin: var(--transform-origin-end);
    transition: transform .3s;
    color: #c74338;
}

.link-bar li.link-bar__link-item--selected {
    background: #ecf0f4; /* Light background for selected link */
    font-weight: bold; /* Make text bold for selected link */
}

</style>
